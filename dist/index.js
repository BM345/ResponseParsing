!function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e,i){"use strict";class r{constructor(t=""){this.supernode=null,this.depth=0,this.type=t,this.subtype="",this._title="Node",this.start=0,this.end=0,this._text="",this._latex="",this._asciiMath="",this._mathML=""}get title(){return this._title}get length(){return this.end-this.start}get text(){return this._text}get latex(){return this._latex}get asciiMath(){return this._asciiMath}get mathML(){return this._mathML}get subnodes(){return[]}setDepth(t=0){this.depth=t;var e=this;this.subnodes.forEach(i=>{i.supernode=e,i.setDepth(t+1)})}}class n extends r{constructor(){super("whiteSpace"),this.value=""}isEqualTo(t){return t.type===this.type&&t.subtype===this.subtype&&t.value===this.value}}class s extends r{constructor(){super("number"),this._title="Number",this.value="",this.integralPart="",this.decimalPart="",this.sign="",this.signIsExplicit=!1,this.numberOfLeadingZeros=0,this.numberOfTrailingZeros=0,this.minimumNumberOfSignificantFigures=0,this.maximumNumberOfSignificantFigures=0,this.numberOfDecimalPlaces=0}isEqualTo(t){return t.type===this.type&&t.subtype===this.subtype&&t.value===this.value}get title(){return"integer"==this.subtype?"Integer":"Decimal Number"}get latex(){return this.value}get asciiMath(){return this.value}get mathML(){return"<mn>"+this.value+"</mn>"}}class a extends r{constructor(){super("fraction"),this._title="Fraction",this.numerator=null,this.denominator=null}isEqualTo(t){return t.type===this.type&&t.subtype===this.subtype&&t.numerator.isEqualTo(this.numerator)&&t.denominator.isEqualTo(this.denominator)}get subnodes(){return[this.numerator,this.denominator]}get latex(){return"\\frac{"+this.numerator.latex+"}{"+this.denominator.latex+"}"}get asciiMath(){return"frac "+this.numerator.asciiMath+" "+this.denominator.asciiMath}get mathML(){return"<mfrac>"+this.numerator.mathML+this.denominator.mathML+"</mfrac>"}}class o extends r{constructor(){super("mixedFraction"),this._title="Mixed Fraction",this.wholePart=null,this.fractionPart=null}isEqualTo(t){return t.type===this.type&&t.subtype===this.subtype&&t.wholePart.isEqualTo(this.wholePart)&&t.fractionPart.isEqualTo(this.fractionPart)}get subnodes(){return[this.wholePart,this.fractionPart]}get latex(){return this.wholePart.latex+" "+this.fractionPart.latex}get asciiMath(){return this.wholePart.asciiMath+" "+this.fractionPart.asciiMath}get mathML(){return this.wholePart.mathML+this.fractionPart.mathML}}class u extends r{constructor(){super("radical"),this.radix=2,this.radixIsImplicit=!0,this.radicand=null}isEqualTo(t){return t.type===this.type&&t.subtype===this.subtype&&t.radix===this.radix&&t.radicand.isEqualTo(this.radicand)}get subnodes(){return[this.radicand]}get title(){return 2==this.radix?"Square Root":3==this.radix?"Cube Root":"Radical"}get latex(){return"\\sqrt{"+this.radicand.latex+"}"}get asciiMath(){return"sqrt("+this.radicand.asciiMath+")"}get mathML(){return 2==this.radix?"<msqrt>"+this.radicand.mathML+"</msqrt>":"<mroot>"+this.radicand.mathML+"<mn>"+this.radix+"</mn></mroot>"}}class p extends r{constructor(){super("identifier"),this.value="",this._title="Identifier"}isEqualTo(t){return t.type===this.type&&t.subtype===this.subtype&&t.value===this.value}get latex(){return this.value}get asciiMath(){return this.value}get mathML(){return"<mi>"+this.value+"</mi>"}}class l extends r{constructor(){super("operator"),this.value="",this._title="Operator",this.isImplicit=!1}isEqualTo(t){return t.type===this.type&&t.subtype===this.subtype&&t.value===this.value}get precedence(){return"+-*/^!=".indexOf(this.value)}get latex(){return"*"==this.value?"\\times":this.value}get asciiMath(){return this.value}get mathML(){return"<mo>"+this.value+"</mo>"}}class h extends r{constructor(){super("unaryOperation"),this.operand=null,this.operator=null,this._title="Unary Operation"}get subnodes(){return[this.operand]}}class c extends h{constructor(){super(),this.subtype="sign"}get title(){return"-"==this.operator.value?"Negation":"Sign"}get text(){return this.operator.text+this.operand.text}get latex(){return this.operator.latex+this.operand.latex}get asciiMath(){return this.operator.asciiMath+this.operand.asciiMath}}class d extends h{constructor(){super(),this.subtype="factorial",this._title="Factorial"}isEqualTo(t){return t.type===this.type&&t.subtype===this.subtype&&t.operand.isEqualTo(this.operand)}get latex(){return this.operand.latex+"!"}get asciiMath(){return this.operand.asciiMath+"!"}}class m extends r{constructor(){super("binaryOperation"),this.operand1=null,this.operand2=null,this.operator=null,this._title="BinaryOperation"}isEqualTo(t){return t.type===this.type&&t.subtype===this.subtype&&t.operand1.isEqualTo(this.operand1)&&t.operand2.isEqualTo(this.operand2)}get subnodes(){return[this.operand1,this.operand2]}}class g extends m{constructor(){super(),this.subtype="addition",this._title="Addition"}get latex(){return this.operand1.latex+"+"+this.operand2.latex}get asciiMath(){return this.operand1.asciiMath+"+"+this.operand2.asciiMath}}class x extends m{constructor(){super(),this.subtype="subtraction",this._title="Subtraction"}get latex(){return this.operand1.latex+"-"+this.operand2.latex}get asciiMath(){return this.operand1.asciiMath+"-"+this.operand2.asciiMath}}class f extends m{constructor(){super(),this.subtype="multiplication",this.isImplicit=!1,this._title="Multiplication"}get title(){return this.isImplicit,"Multiplication"}get latex(){return this.isImplicit?this.operand1.latex+this.operand2.latex:this.operand1.latex+" \\times "+this.operand2.latex}get asciiMath(){return this.isImplicit?this.operand1.asciiMath+this.operand2.asciiMath:this.operand1.asciiMath+"*"+this.operand2.asciiMath}}class y extends m{constructor(){super(),this.subtype="division",this._title="Division"}get latex(){return this.operand1.latex+"/"+this.operand2.latex}get asciiMath(){return this.operand1.asciiMath+"/"+this.operand2.asciiMath}}class b extends m{constructor(){super(),this.subtype="exponentiation",this._title="Exponentiation"}get latex(){return this.operand1.latex+"^{"+this.operand2.latex+"}"}get asciiMath(){return this.operand1.asciiMath+"^"+this.operand2.asciiMath}}class v{constructor(t="",e=[],i="",r="",n=""){this.name=t,this.allowedWritings=e,this.latex=i,this.asciiMath=r,this.mathML=n}}var M=[new v("Sine",["sin","sine"],"\\sin","sin"),new v("Cosine",["cos","cosine"],"\\cos","cos"),new v("Tangent",["tan","tangent"],"\\tan","tan"),new v("Arcsine",["asin","arcsin","arcsine"],"\\arcsin","arcsin"),new v("Arccosine",["acos","arccos","arccosine"],"\\arccos","arccos"),new v("Arctangent",["atan","arctan","arctangent"],"\\arctan","arctan")];class w extends r{constructor(){super("namedFunction"),this.value=null,this.parameters=[],this.precedence=6}get title(){return null===this.value?"Named Function":this.value.name+" Function"}get subnodes(){return this.parameters}get latex(){return this.value.latex+" "+this.parameters.map(t=>t.latex).join(", ")}get asciiMath(){return this.value.asciiMath+" "+this.parameters.map(t=>t.asciiMath).join(", ")}}class E extends r{constructor(){super("bracketedExpression"),this.bracketType="()",this.innerExpression=null,this._title="Bracketed Expression"}isEqualTo(t){return t.type===this.type&&t.subtype===this.subtype&&t.bracketType==this.bracketType&&t.innerExpression.isEqualTo(this.innerExpression)}get subnodes(){return[this.innerExpression]}get text(){return"("+this.innerExpression.text+")"}get latex(){return"\\left("+this.innerExpression.latex+"\\right)"}get asciiMath(){return"("+this.innerExpression.asciiMath+")"}}class _ extends r{constructor(){super("surd"),this.coefficient=null,this.radical=null,this._title="Surd"}get subnodes(){return[this.coefficient,this.radical]}get latex(){return this.coefficient.latex+" "+this.radical.latex}get asciiMath(){return this.coefficient.asciiMath+" "+this.radical.asciiMath}}class S extends r{constructor(){super("summation"),this.operands=[],this._title="Summation"}get subnodes(){return this.operands}get latex(){return this.operands.map(t=>t.latex).join("+")}get asciiMath(){return this.operands.map(t=>t.asciiMath).join("+")}}class I{constructor(){}simplifyNode(t){return t=this.replaceWithSurd(t),t=this.replaceWithSummation(t),t=this.replaceWithSummation(t)}replaceWithSummation(t){if("addition"==t.subtype&&("addition"==t.operand1.subtype||"addition"==t.operand2.subtype)){var e=new S;return"addition"==t.operand1.subtype?(e.operands.push(t.operand1.operand1),e.operands.push(t.operand1.operand2)):e.operands.push(t.operand1),"addition"==t.operand2.subtype?(e.operands.push(t.operand2.operand1),e.operands.push(t.operand2.operand2)):e.operands.push(t.operand2),e}if("summation"==t.type){e=new S;return t.operands.forEach(t=>{"addition"==t.subtype?(e.operands.push(t.operand1),e.operands.push(t.operand2)):e.operands.push(t)}),e}return t}replaceWithSurd(t){if("binaryOperation"==t.type&&"multiplication"==t.subtype&&"number"==t.operand1.type&&"radical"==t.operand2.type&&("number"==t.operand2.radicand.type||"bracketedExpression"==t.operand2.radicand.type&&"number"==t.operand2.radicand.innerExpression.type)){var e=new _;return e.coefficient=t.operand1,e.radical=t.operand2,e}return t}}function T(t,e){return t.split("").filter(t=>t==e).length>0}i.d(e,"a",(function(){return P})),i.d(e,"b",(function(){return L}));class O{constructor(){this.position=0}copy(){var t=new O;return t.position=this.position,t}}class F{constructor(){this.removeLeadingZerosFromSimplifiedForms=!1,this.addLeadingZeroToDecimalsForSimplifiedForms=!0}}class P{constructor(){this.settings=new F,this.simplifier=new I}getParseResult(t){var e=new O,i=this.parseExpression(t,e);return null!==i&&e.position==t.length?((i=this.simplifier.simplifyNode(i)).setDepth(),i):null}anyAt(t,e,i){for(var r=0;r<t.length;r++){var n=t[r];if(e.substring(i.position,i.position+n.length)==n)return n}return!1}parseExpression(t,e){for(var i,r=[],n=[],s=0;e.position<t.length;){var a=this.parseBinomialOperator(t,e.copy());if(null===a&&(a=this.parseBracketedExpression(t,e.copy())),null===a&&(a=this.parseFactorial(t,e.copy())),null===a&&(a=this.parseMixedFraction(t,e.copy())),null===a&&(a=this.parseFraction(t,e.copy())),null===a&&(a=this.parseNamedFunction(t,e.copy())),null===a&&(a=this.parseSquareRoot(t,e.copy())),null===a&&(a=this.parseNumber(t,e.copy())),null===a&&(a=this.parseIdentifier(t,e.copy())),null===a&&(a=this.parseWhiteSpace(t,e.copy())),null===a)break;if("operator"==a.type||"namedFunction"==a.type)this._applyOperators(r,n,a),n.push(a),s++;else if("whiteSpace"==a.type);else{if(void 0!==i&&"operator"!=i.type&&"namedFunction"!=i.type){var o=new l;o._text="*",o.isImplicit=!0,n.push(o)}else if(1==s&&"operator"==i.type&&("+"==i.value||"-"==i.value)){var u=new c;u.operator=n.pop(),u.operand=a,a=u}r.push(a),s++}e.position+=a.length,"whiteSpace"!=a.type&&(i=a)}return this._applyOperators(r,n,null),1==r.length?r[0]:null}_applyOperators(t,e,i){for(var r=e.length-1;r>=0&&(null===i||e[r].precedence>=i.precedence);r--)if(t.length>=1){var n,s=e.pop();if(t.length>=2&&"operator"==s.type)"+"==s.text&&(n=new g),"-"==s.text&&(n=new x),"*"==s.text&&(n=new f),"/"==s.text&&(n=new y),"^"==s.text&&(n=new b),n.operand2=t.pop(),n.operand1=t.pop(),"*"==s.text&&s.isImplicit?(n.isImplicit=!0,n._text=n.operand1.text+n.operand2.text):n._text=n.operand1.text+s.text+n.operand2.text,t.push(n);else if(t.length>=1&&"operator"==s.type){"!"==s.text&&(n=new d);var a=t.pop();n.operand=a,n._text=a.text+s.text,t.push(n)}else if(t.length>=1&&"namedFunction"==s.type){n=s;a=t.pop();n.parameters.push(a),n._text+=a.text,t.push(n)}}}parseFactorial(t,e){var i=e.position;if("!"!=t.charAt(e.position))return null;e.position++;var r=e.position,n=new l;return n.start=i,n.end=r,n._text="!",n.value="!",n}parseBracketedExpression(t,e){var i=e.position;if("("!=t.charAt(e.position))return null;e.position++;for(var r=1,n="";e.position<t.length&&r>0;){var s=t.charAt(e.position);n+=s,"("==s?r++:")"==s&&r--,e.position++}var a=e.position,o=new E;if(o.start=i,o.end=a,o._text=n,a-i>=2){var u=t.substring(i+1,a-1),p=this.parseExpression(u,new O);o.innerExpression=p}return o}parseNamedFunction(t,e){var i=e.position,r="",n=null;if(M.forEach(i=>{i.allowedWritings.map(t=>t).sort((t,e)=>e.length-t.length).forEach(s=>{t.substr(e.position,s.length)==s&&(n=i,r=s,e.position+=s.length)})}),null===n)return null;var s=e.position,a=new w;return a.value=n,a.start=i,a.end=s,a._text=r,a}parseBinomialOperator(t,e){var i=e.position,r=t.charAt(e.position);if(!T("+-*/^",r))return null;e.position++;var n=e.position,s=new l;return s.start=i,s.end=n,s._text=r,s.value=r,s}parseIdentifier(t,e){var i=e.position,r=t.charAt(e.position);if(!T("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r))return null;e.position++;var n=e.position,s=new p;return s.start=i,s.end=n,s._text=r,s.value=r,s}parseSquareRoot(t,e){var i=e.position,r=this.anyAt(["sqrt","squareroot","root"],t,e);if(!1===r)return null;e.position+=r.length;this.parseWhiteSpace(t,e);var n=this.parseNumber(t,e.copy());if(null===n&&(n=this.parseIdentifier(t,e.copy())),null===n&&(n=this.parseBracketedExpression(t,e.copy())),null===n)return null;e.position+=n.length;var s=e.position,a=new u;return a.start=i,a.end=s,a._text=t.slice(i,s),a.radix=2,a.radixIsImplicit=!0,a.radicand=n,a}parseMixedFraction(t,e){var i=e.position,r=this.parseNumber(t,e);if(null===r)return null;if(null===this.parseWhiteSpace(t,e))return null;var n=this.parseFraction(t,e);if(null===n)return null;var s=e.position,a=new o;return a.start=i,a.end=s,a._text=t.slice(i,s),a.wholePart=r,a.fractionPart=n,a}parseFraction(t,e){var i=e.position,r=this.parseNumber(t,e);if(null===r)return null;this.parseWhiteSpace(t,e);if("/"!==t.charAt(e.position))return null;e.position+=1;this.parseWhiteSpace(t,e);var n=this.parseNumber(t,e),s=e.position,o=new a;return o.start=i,o.end=s,o._text=t.slice(i,s),o.numerator=r,o.denominator=n,o}parseNumber(t,e){var i="",r=e.position,n="",a="",o="",u="positive",p=!1,l=t.charAt(e.position);"+"==l?(o="+",p=!0,e.position++):"-"==l&&(o="-",u="negative",p=!0,e.position++);for(var h=0,c=0,d=0,m=0,g=0,x=0;e.position<t.length;){var f=t.charAt(e.position);if(T("0123456789",f))i+=f,e.position++,0==x?n+=f:(a+=f,m++),"0"==f&&0==d&&0==x?h++:"0"!=f?(d+=g,g=0,d++):"0"==f&&d>0&&g++;else{if("."!=f)break;if(0!=x)break;i+=f,e.position++,a+=f,x++}}var y=0==d&&i.length>0;y&&(u="zero");var b=0,v=0;y?(b=1,v=1,x>0&&(c=m)):x>0?(b=d+g,v=d+g,c=g):(b=d,v=d+g);var M=e.position,w=0==x?"integer":"decimalNumber",E="";""!=n||""!=a&&"."!=a?""==n?E=this.settings.addLeadingZeroToDecimalsForSimplifiedForms?"0":"":this.settings.removeLeadingZerosFromSimplifiedForms?(E=n.slice(h),this.settings.addLeadingZeroToDecimalsForSimplifiedForms&&(E=""==E?"0":E)):E=n:E="";var _="."==a?"":a,S=y?E+_:o+E+_;if(o+i=="")return null;var I=new s;return I.subtype=w,I.integralPart=n,I.decimalPart=a,I.start=r,I.end=M,I._text=o+i,I.value=S,I.sign=u,I.signIsExplicit=p,I.numberOfLeadingZeros=h,I.numberOfTrailingZeros=c,I.minimumNumberOfSignificantFigures=b,I.maximumNumberOfSignificantFigures=v,I.numberOfDecimalPlaces=m,I}parseWhiteSpace(t,e){for(var i="",r=e.position;e.position<t.length;){var s=t.charAt(e.position);if(!T(" \t\n",s))break;i+=s,e.position+=1}var a=e.position;if(""==i)return null;var o=new n;return o.start=r,o.end=a,o._text=i,o.value=" ",o._latex=i,o._asciiMath=i,o}}class L{constructor(){this.inputs=[],this.rp=new P,this.controlKeys=["ShiftLeft","ShiftRight","Backspace","Enter","Tab","CapsLock","MetaLeft","MetaRight","AltLeft","AltRight","ControlLeft","ControlRight","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Escape"]}getNewInputValueOnKeyDown(t,e){var i=t.value.length;return t.selectionStart==i&&t.selectionEnd==i?t.value+e.key:t.value.slice(0,t.selectionStart)+e.key+t.value.slice(t.selectionEnd,i)}addInput(t,e,i,r,n){this.inputs.push([t,e,i,r,n]);var s=this;t.onkeydown=function(r){if(0==s.controlKeys.filter(t=>r.code==t).length){var n=s.getNewInputValueOnKeyDown(t,r),a=s.rp.getParseResult(n);if(console.log(n),console.log(a),null===a)return void r.preventDefault();"integer"!=e||"number"==a.type&&"integer"==a.subtype||r.preventDefault(),"decimalNumber"==e&&"number"!=a.type&&r.preventDefault(),"fraction"==e&&"fraction"!=a.type&&"number"!=a.type&&r.preventDefault(),null!==a?katex.render(a.latex,i):katex.render("",i)}},t.onkeyup=function(e){r.innerText="";var n=s.rp.getParseResult(t.value);null!==n?katex.render(n.latex,i):katex.render("",i)},n.onmousedown=function(i){var n=t.value,a=s.rp.getParseResult(n);console.log(n),console.log(a),r.innerText="","integer"==e&&(null===a||"number"!=a.type&&"integer"==a.subtype)&&(r.innerText="Your answer must be a whole number."),"decimalNumber"!=e||null!==a&&"number"==a.type||(r.innerText="Your answer must be a decimal number or a whole number.")}}}},function(t,e,i){"use strict";i.r(e);var r=new(i(0).b);window.addEventListener("load",(function(){var t=document.getElementById("input1"),e=document.getElementById("validationMessage1"),i=document.getElementById("submitButton1"),n=document.getElementById("katexOutput1"),s=document.getElementById("input2"),a=document.getElementById("validationMessage2"),o=document.getElementById("submitButton2"),u=document.getElementById("katexOutput2"),p=document.getElementById("input3"),l=document.getElementById("validationMessage3"),h=document.getElementById("submitButton3"),c=document.getElementById("katexOutput3");r.addInput(t,"integer",n,e,i),r.addInput(s,"decimalNumber",u,a,o),r.addInput(p,"fraction",c,l,h)}))}]);